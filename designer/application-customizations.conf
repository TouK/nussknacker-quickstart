## To customize Nu Designer configuration see https://nussknacker.io/documentation/docs/configuration/Common/#configuration-file

scenarioTypes {
  "streaming" {
    # customize Flink streaming scenario type
    modelConfig {
      components {
        customersDataEnricher {
         providerType: databaseEnricher
         config: {
           databaseQueryEnricher {
             name: "customers-data-query-enricher"
             dbPool: ${rtmNearPosExampleDatabasePool} #refers to your database pool definition
           }
           databaseLookupEnricher {
             name: "customers-data-lookup-enricher"
             dbPool: ${rtmNearPosExampleDatabasePool}
           }
         }
        }
        posDataEnricher {
         providerType: databaseEnricher
         config: {
           databaseLookupEnricher {
             name: "pos-data-lookup-enricher"
             dbPool: ${rtmNearPosExampleDatabasePool}
           }
         }
        }
        "customerProfileOffers" {
          providerType: "openAPI"
          url: "http://mocks:8080/__admin/files/openapi/CustomerApi.yaml"
          rootUrl: "http://mocks:8080/"
          namePattern: "get.*"
          allowedMethods: ["GET"]
        }
      }
    }
  }
  "streaming-lite-embedded" {
    # customize Lite streaming scenario type
  }
  "request-response-embedded": {
    # customize Lite request-response scenario type
  }
}

rtmNearPosExampleDatabasePool {
  driverClassName: "org.postgresql.Driver"
  url: "jdbc:postgresql://mocks:5432/mocks"
  username: "mocks"
  password: "mocks_pass"
  schema: "rtm_near_pos_example"
}
